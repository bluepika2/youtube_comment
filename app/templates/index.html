<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Spam Detector</title>
  <!-- Bootstrap 5 CSS from CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .dark-mode { background-color: #121212; color: #e0e0e0; }
    .hero {
      background: url('{{ hero_images[0] if hero_images else url_for("static", filename="hero.jpg") }}') no-repeat center center;
      background-size: cover;
      height: 450px;
      position: relative;
      color: white;
    }
    .hero-overlay {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.6);
    }
    .hero-content {
      position: relative;
      z-index: 2;
      top: 50%;
      transform: translateY(-50%);
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar with Dark Mode Toggle -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <div class="container">
      <a class="navbar-brand" href="/">YouTube Spam Detector</a>
      <button class="btn btn-outline-light ms-auto" onclick="toggleDarkMode()">Toggle Dark Mode</button>
    </div>
  </nav>

  <!-- Hero Section -->
  <div class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content container">
      <h1 class="display-4">Detect Spam on YouTube</h1>
      <p class="lead">Analyze YouTube comments for spam, sentiment, adult content, and more.</p>
      <a href="#analysis" class="btn btn-light btn-lg">Get Started</a>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container my-5" id="analysis">
    <div class="card shadow-sm mb-5">
      <div class="card-body">
        <h3 class="card-title mb-4">Enter YouTube Video URL</h3>
        {% if error %}
          <div class="alert alert-danger" role="alert">{{ error }}</div>
        {% endif %}
        <form action="/" method="post">
          <div class="mb-3">
            <label for="youtube_url" class="form-label">YouTube URL</label>
            <input type="text" class="form-control" id="youtube_url" name="youtube_url" placeholder="https://www.youtube.com/watch?v=...">
          </div>
          <div class="mb-3">
            <label for="max_comments" class="form-label">Number of Comments to Analyze</label>
            <input type="number" class="form-control" id="max_comments" name="max_comments" placeholder="100" value="100" min="1">
          </div>
          <button type="submit" class="btn btn-primary">Fetch Comments & Analyze</button>
        </form>
      </div>
    </div>

    <!-- Carousel Section -->
    <div id="carouselExampleIndicators" class="carousel slide mb-5" data-bs-ride="carousel">
      <div class="carousel-indicators">
        {% for i in range(carousel_images|length) %}
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="{{ i }}" class="{% if i == 0 %}active{% endif %}" aria-current="{% if i == 0 %}true{% endif %}" aria-label="Slide {{ i+1 }}"></button>
        {% endfor %}
      </div>
      <div class="carousel-inner">
        {% for img in carousel_images %}
          <div class="carousel-item {% if loop.first %}active{% endif %}">
            <img src="{{ img }}" class="d-block w-100" alt="Carousel Image">
          </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!-- Embedded YouTube Video Section -->
    <div class="video-container mb-5" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe src="https://www.youtube.com/embed/M7lc1UVf-VE" frameborder="0" allowfullscreen style="position: absolute; top:0; left: 0; width: 100%; height: 100%;"></iframe>
    </div>

    <!-- About Section -->
    <div class="about text-center mb-5">
      <h2>About This App</h2>
      <p>This YouTube Spam Detector analyzes video comments for spam, sentiment, adult content, and more. Our interactive dashboard provides insights through dynamic charts and statistics, helping you quickly understand the conversation on any video.</p>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container text-center">
      <p>&copy; 2023 YouTube Spam Detector. All rights reserved.</p>
      <p>
        <a href="#" class="text-decoration-none me-2">GitHub</a>
        <a href="#" class="text-decoration-none">Contact Us</a>
      </p>
    </div>
  </footer>

  <!-- Bootstrap 5 JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }
  </script>
</body>
</html>
